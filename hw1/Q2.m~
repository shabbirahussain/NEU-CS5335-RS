% TODO: You write this function!
% input: f -> a 9-joint robot encoded as a SerialLink class
%        qInit -> 1x9 vector denoting current joint configuration
%        posGoal -> 3x1 vector denoting the target position to move to
% output: q -> 1x9 vector of joint angles that cause the end
%                     effector position to reach <position>
%                     (orientation is to be ignored)
function q = Q2(f,qInit,posGoal)
    for i=1:50
        posInit = f.fkine(qInit);
        posInit = posInit(1:3,4);


        deltaX  = (posGoal-posInit);
        vectarrow(posInit, posGoal);

        J  = f.jacob0(f.alpha, 'trans');
        Ji = pinv(J);
        q  = Ji * deltaX;

        q  = q' + qInit;
end

